<div class="add-exercise">
  <div class="add-exercise__header">Add Exercise</div>
  <table>
    <thead>
      <tr>
        <th>Sets</th>
        <th>Name</th>
        <th>Reps</th>
        <th>Weight (kg)</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (item of exercise; track $index; let idx = $index) {
      <tr>
        <td>{{ idx + 1 }}.</td>
        @if(idx === 0) {
        <td>
          <ng-container *ngTemplateOutlet="exerciseNameRow"></ng-container>
        </td>
        } @else {
        <td>
          <ng-container *ngTemplateOutlet="exerciseNameRow"></ng-container>
        </td>
        }

        <td>
          <app-input
            [width]="40"
            [type]="'number'"
            [placeholder]="''"
            (data)="setReps($event)"
          ></app-input>
        </td>
        <td>
          <app-input
            [width]="50"
            [type]="'number'"
            [placeholder]="''"
            (data)="setWeight($event)"
          ></app-input>
        </td>
        @if(idx + 1 === exercise.length) {
        <td>
          <button type="button" class="add-btn" (click)="addSet()">+</button>
        </td>
        <td>
          <button type="button" class="save-btn" (click)="saveExercise()">
            Save Exercise
          </button>
        </td>
        }
      </tr>
      }
    </tbody>
  </table>
</div>

<ng-template
  #exerciseNameRow
  let-disabled="disabled"
  let-showActions="showActions"
>
  <app-select
    [id]="'Exercise-Name'"
    [name]="'Exercise-Name'"
    [label]="''"
    [showLabel]="true"
    [options]="options"
    formControlName="name"
    (onSelect)="onSelectedName($event)"
  ></app-select>
</ng-template>
